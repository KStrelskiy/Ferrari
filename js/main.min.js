const swiper=new Swiper(".swiper1",{loop:!0,pagination:{el:".swiper-pagination"},navigation:{nextEl:".swiper-button-next.btn-next-works",prevEl:".swiper-button-prev.btn-prev-works"},breakpoints:{512:{slidesPerView:2},768:{slidesPerView:3}}}),swiper2=new Swiper(".swiper2",{loop:!0,pagination:{el:".swiper-pagination"},navigation:{nextEl:".swiper-button-next.btn-next-models",prevEl:".swiper-button-prev.btn-prev-models"},breakpoints:{320:{slidesPerView:2},950:{slidesPerView:3},1360:{slidesPerView:4}}}),countries=[{country:"russia",code:"+7",src:"images/russia.svg",telephone:"(999) 999-999-99"},{country:"belarus",code:"+375",src:"images/belarus.svg",telephone:"(99) 999-99-99"},{country:"georgia",code:"+995",src:"images/georgia.svg",telephone:"(99) 999-99-99"},{country:"usa",code:"+1",src:"images/usa.svg",telephone:"(999) 999-999-99"},{country:"poland",code:"+48",src:"images/poland.svg",telephone:"(999) 999-99-99"}],telephoneInput=document.querySelectorAll(".telephone");function chooseInputTelephone(e,t,o,n,r){e.innerHTML=r.code,t.setAttribute("src",r.src),t.setAttribute("data-country",r.country),o.setAttribute("placeholder",r.telephone),n.classList.remove("open"),o.value="",o.focus()}telephoneInput.forEach((e=>{var t;(t=e).addEventListener("keypress",(function(e){(e.keyCode<47||e.keyCode>57)&&e.preventDefault();let o=t.getAttribute("placeholder").length,n=t.value.length;o<=14&&(0===n&&(t.value+="("),3===n&&(t.value+=") "),8===n&&(t.value+="-"),11===n&&(t.value+="-"),14===n&&e.preventDefault()),o>14&&(0===n&&(t.value+="("),4===n&&(t.value+=") "),9===n&&(t.value+="-"),12===n&&(t.value+="-"),15===n&&e.preventDefault())}))}));const arrowCallback=document.querySelector(".callback__form-tel-arrow");function chooseTel(){const e=document.querySelector(".callback__form"),t=e.querySelector(".callback__form-tel-flag"),o=e.querySelector(".callback__form-tel-code"),n=e.querySelectorAll(".callback__form-tel-code_item"),r=e.querySelector(".callback__form-tel-number");e.classList.toggle("open"),n.forEach((n=>{n.addEventListener("click",(l=>{let c=n.getAttribute("data-country"),s=countries.find((function(e){return e.country===c}));chooseInputTelephone(o,t,r,e,s)}))}))}arrowCallback.addEventListener("click",chooseTel);const arrow=document.querySelectorAll(".form-tel-arrow");function chooseTel1(e){const t=e.target.parentElement.parentElement,o=t.querySelector(".form-tel-flag"),n=t.telephoneUser,r=t.querySelector(".form-tel-code"),l=document.querySelectorAll(".form-tel-code_item");t.classList.toggle("open"),l.forEach((e=>{e.addEventListener("click",(l=>{let c=e.getAttribute("data-country"),s=countries.find((function(e){return e.country===c}));chooseInputTelephone(r,o,n,t,s)}))}))}arrow.forEach((e=>{e.addEventListener("click",chooseTel1)}));const btnOpenPopup=document.querySelector(".main__btn"),btnClosePopup=document.querySelector(".popup-close"),overlay=document.querySelector(".overlay");function popupOpen(){overlay.classList.add("active"),document.addEventListener("click",(e=>{e.target===overlay&&overlay.classList.remove("active")}))}function popupClose(){overlay.classList.remove("active")}btnOpenPopup.addEventListener("click",popupOpen),btnClosePopup.addEventListener("click",popupClose);const burgerMenu=document.querySelector(".burger"),menu=document.querySelector(".nav__items");function openBurgerMenu(){if(document.body.classList.toggle("openMenu"),burgerMenu.classList.toggle("openMenu"),menu.classList.toggle("openMenu"),menu.classList.contains("openMenu")){document.querySelector(".nav__items.openMenu").addEventListener("click",(function(e){e.target.classList.contains("nav__items")||(document.body.classList.remove("openMenu"),burgerMenu.classList.remove("openMenu"),menu.classList.remove("openMenu"))}))}}burgerMenu.addEventListener("click",openBurgerMenu);const form=document.forms,baseUserCallbackForm=[];for(let e=0;e<form.length;e++)form[e].addEventListener("submit",(t=>{t.preventDefault();const o=form[e].nameUser,n=form[e].telephoneUser,r=n.previousElementSibling.textContent,l=form[e].querySelector("[data-country]").getAttribute("data-country");let c={name:null,telephone:null,country:null};c.name=o.value,c.telephone=+r+n.value.replace(/[^\d.]/g,""),c.country=l,form[e].service&&("Интересующая услугу"===form[e].service.value?c.service="Пользователь не выбрал услугу":c.service=form[e].service.value),baseUserCallbackForm.unshift(c),console.log(baseUserCallbackForm),form[e].reset(),overlay.classList.contains("active")&&overlay.classList.remove("active"),document.querySelector(".feedback__popup-nameUser").innerHTML=baseUserCallbackForm[0].name;const s=document.querySelector(".feedback");if(s.classList.add("openPopup"),s.classList.contains("openPopup")){document.querySelector(".feedback__popup-close").addEventListener("click",(()=>{s.classList.remove("openPopup")}));document.addEventListener("click",(e=>{e.target===s&&s.classList.remove("openPopup")}))}}));